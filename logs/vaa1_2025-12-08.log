[2025-12-08 00:01:33] [INFO] [__main__:531] â€” Starting Video Analysis API with Audio on http://localhost:8000
[2025-12-08 00:01:33] [INFO] [__main__:532] â€” API Documentation: http://localhost:8000/docs
[2025-12-08 00:02:06] [INFO] [api_server:111] â€” Video uploaded: Helsinki_main_street.mp4 -> 739123a4-c26d-4337-b18b-d4567e5211c2.mp4 (ID: 739123a4-c26d-4337-b18b-d4567e5211c2)
[2025-12-08 00:02:12] [INFO] [api_server:111] â€” Video uploaded: Helsinki_short.mp4 -> c87f4efd-1349-469a-a1b2-06a5e97ff442.mp4 (ID: c87f4efd-1349-469a-a1b2-06a5e97ff442)
[2025-12-08 00:52:36] [INFO] [__main__:537] â€” Starting Video Analysis API with Audio on http://localhost:8000
[2025-12-08 00:52:36] [INFO] [__main__:538] â€” API Documentation: http://localhost:8000/docs
[2025-12-08 01:03:25] [INFO] [api_server:114] â€” Video uploaded: Helsinki_main_street.mp4 -> 1b52451a-4372-42db-9bc2-2108d4502391.mp4 (ID: 1b52451a-4372-42db-9bc2-2108d4502391)
[2025-12-08 01:03:25] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 01:03:25] [INFO] [api_server:116] â€” Video uploaded: Helsinki_main_street.mp4 -> 1b52451a-4372-42db-9bc2-2108d4502391.mp4 (ID: 1b52451a-4372-42db-9bc2-2108d4502391)
[2025-12-08 01:03:31] [INFO] [api_server:114] â€” Video uploaded: Helsinki_short.mp4 -> d78c2492-053b-457c-90d4-aa104e6aeb08.mp4 (ID: d78c2492-053b-457c-90d4-aa104e6aeb08)
[2025-12-08 01:03:31] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 01:03:31] [INFO] [api_server:116] â€” Video uploaded: Helsinki_short.mp4 -> d78c2492-053b-457c-90d4-aa104e6aeb08.mp4 (ID: d78c2492-053b-457c-90d4-aa104e6aeb08)
[2025-12-08 01:03:48] [INFO] [api_server:162] â€” Analysis started for 1b52451a-4372-42db-9bc2-2108d4502391 with pipeline: full
[2025-12-08 01:03:48] [INFO] [api_server:178] â€” ðŸš€ Starting full analysis pipeline for 1b52451a-4372-42db-9bc2-2108d4502391
[2025-12-08 01:03:48] [INFO] [api_server:179] â€” ðŸ“ Video path: uploads\1b52451a-4372-42db-9bc2-2108d4502391.mp4
[2025-12-08 01:03:48] [INFO] [api_server:187] â€” âœ… Video file exists
[2025-12-08 01:03:48] [INFO] [api_server:199] â€” ðŸŽ¥ Starting visual analysis pipeline...
[2025-12-08 01:03:51] [INFO] [src.backend.analysis.pipeline_video_frames:60] â€” Starting frame analysis on uploads\1b52451a-4372-42db-9bc2-2108d4502391.mp4
[2025-12-08 01:04:19] [ERROR] [api_server:229] â€” âŒ Visual pipeline failed: module 'PIL.Image' has no attribute 'ANTIALIAS'
[2025-12-08 01:04:19] [ERROR] [api_server:231] â€” ðŸ“ Traceback: Traceback (most recent call last):
  File "e:\wenjian\123\3rd\The-project\api_server.py", line 205, in run_complete_analysis
    visual_results = frame_pipeline.analyze(
                     ^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_video_frames.py", line 110, in analyze
    ocr_results = self.run_ocr(frame, timestamp)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_video_frames.py", line 147, in run_ocr
    results = self.ocr.readtext(frame_rgb)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\easyocr.py", line 464, in readtext
    result = self.recognize(img_cv_grey, horizontal_list, free_list,\
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\easyocr.py", line 391, in recognize
    image_list, max_width = get_image_list(h_list, f_list, img_cv_grey, model_height = imgH)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\utils.py", line 593, in get_image_list
    crop_img,ratio = compute_ratio_and_resize(transformed_img,transformed_img.shape[1],transformed_img.shape[0],model_height)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\utils.py", line 576, in compute_ratio_and_resize
    img = cv2.resize(img,(int(model_height*ratio),model_height),interpolation=Image.ANTIALIAS)
                                                                              ^^^^^^^^^^^^^^^
AttributeError: module 'PIL.Image' has no attribute 'ANTIALIAS'

[2025-12-08 01:04:19] [INFO] [api_server:237] â€” ðŸŽµ Starting audio pipeline...
[2025-12-08 01:04:19] [INFO] [api_server:240] â€” ðŸ”Š Extracting audio from video...
[2025-12-08 01:04:19] [INFO] [src.backend.analysis.pipeline_ingestion:129] â€” Starting ingestion pipeline for: uploads\1b52451a-4372-42db-9bc2-2108d4502391.mp4
[2025-12-08 01:04:19] [ERROR] [api_server:305] â€” âŒ Audio pipeline failed: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚
[2025-12-08 01:04:19] [ERROR] [api_server:307] â€” ðŸ“ Traceback: Traceback (most recent call last):
  File "e:\wenjian\123\3rd\The-project\api_server.py", line 241, in run_complete_analysis
    ingestion_result = run_ingestion_pipeline(video_path)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 131, in run_ingestion_pipeline
    metadata = validate_video(video_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 45, in validate_video
    probe = ffmpeg.probe(video_path)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\ffmpeg\_probe.py", line 20, in probe
    p = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1026, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1538, in _execute_child
    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚

[2025-12-08 01:04:19] [INFO] [api_server:320] â€” ðŸŽ‰ Analysis marked as COMPLETED for 1b52451a-4372-42db-9bc2-2108d4502391
[2025-12-08 01:04:19] [INFO] [api_server:321] â€” ðŸ“Š Results keys: ['visual_error', 'audio_error']
[2025-12-08 01:04:19] [INFO] [api_server:322] â€” ðŸ“ Output files: {}
[2025-12-08 01:08:12] [INFO] [api_server:162] â€” Analysis started for d78c2492-053b-457c-90d4-aa104e6aeb08 with pipeline: full
[2025-12-08 01:08:12] [INFO] [api_server:178] â€” ðŸš€ Starting full analysis pipeline for d78c2492-053b-457c-90d4-aa104e6aeb08
[2025-12-08 01:08:12] [INFO] [api_server:179] â€” ðŸ“ Video path: uploads\d78c2492-053b-457c-90d4-aa104e6aeb08.mp4
[2025-12-08 01:08:12] [INFO] [api_server:187] â€” âœ… Video file exists
[2025-12-08 01:08:12] [INFO] [api_server:199] â€” ðŸŽ¥ Starting visual analysis pipeline...
[2025-12-08 01:08:15] [INFO] [src.backend.analysis.pipeline_video_frames:60] â€” Starting frame analysis on uploads\d78c2492-053b-457c-90d4-aa104e6aeb08.mp4
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_video_frames:81] â€” End of video reached.
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_video_frames:191] â€” Saved organized results:
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_video_frames:192] â€”  - Video: outputs\frames\videos\d78c2492-053b-457c-90d4-aa104e6aeb08_annotated.mp4
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_video_frames:193] â€”  - YOLO CSV: outputs\frames\csv\d78c2492-053b-457c-90d4-aa104e6aeb08_yolo_20251207_230822.csv
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_video_frames:194] â€”  - OCR CSV: outputs\frames\csv\d78c2492-053b-457c-90d4-aa104e6aeb08_ocr_20251207_230822.csv
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_video_frames:195] â€”  - Summary: outputs\frames\json\d78c2492-053b-457c-90d4-aa104e6aeb08_summary.json
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_video_frames:131] â€” Frame analysis complete.
[2025-12-08 01:08:22] [INFO] [api_server:226] â€” âœ… Visual analysis completed: 372 detections
[2025-12-08 01:08:22] [INFO] [api_server:237] â€” ðŸŽµ Starting audio pipeline...
[2025-12-08 01:08:22] [INFO] [api_server:240] â€” ðŸ”Š Extracting audio from video...
[2025-12-08 01:08:22] [INFO] [src.backend.analysis.pipeline_ingestion:129] â€” Starting ingestion pipeline for: uploads\d78c2492-053b-457c-90d4-aa104e6aeb08.mp4
[2025-12-08 01:08:22] [ERROR] [api_server:305] â€” âŒ Audio pipeline failed: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚
[2025-12-08 01:08:22] [ERROR] [api_server:307] â€” ðŸ“ Traceback: Traceback (most recent call last):
  File "e:\wenjian\123\3rd\The-project\api_server.py", line 241, in run_complete_analysis
    ingestion_result = run_ingestion_pipeline(video_path)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 131, in run_ingestion_pipeline
    metadata = validate_video(video_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 45, in validate_video
    probe = ffmpeg.probe(video_path)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\ffmpeg\_probe.py", line 20, in probe
    p = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1026, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1538, in _execute_child
    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚

[2025-12-08 01:08:22] [INFO] [api_server:320] â€” ðŸŽ‰ Analysis marked as COMPLETED for d78c2492-053b-457c-90d4-aa104e6aeb08
[2025-12-08 01:08:22] [INFO] [api_server:321] â€” ðŸ“Š Results keys: ['visual_analysis', 'audio_error']
[2025-12-08 01:08:22] [INFO] [api_server:322] â€” ðŸ“ Output files: {'video': 'outputs\\frames\\videos\\d78c2492-053b-457c-90d4-aa104e6aeb08_annotated.mp4', 'yolo_csv': 'outputs\\frames\\csv\\d78c2492-053b-457c-90d4-aa104e6aeb08_yolo_20251207_230822.csv', 'ocr_csv': 'outputs\\frames\\csv\\d78c2492-053b-457c-90d4-aa104e6aeb08_ocr_20251207_230822.csv', 'summary_json': 'outputs\\frames\\json\\d78c2492-053b-457c-90d4-aa104e6aeb08_summary.json'}
[2025-12-08 04:11:48] [INFO] [__main__:537] â€” Starting Video Analysis API with Audio on http://localhost:8000
[2025-12-08 04:11:48] [INFO] [__main__:538] â€” API Documentation: http://localhost:8000/docs
[2025-12-08 04:12:40] [INFO] [api_server:114] â€” Video uploaded: Helsinki_main_street.mp4 -> 40f07001-a193-4fc5-93b9-8d3f9b3a3c5e.mp4 (ID: 40f07001-a193-4fc5-93b9-8d3f9b3a3c5e)
[2025-12-08 04:12:40] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 04:12:40] [INFO] [api_server:116] â€” Video uploaded: Helsinki_main_street.mp4 -> 40f07001-a193-4fc5-93b9-8d3f9b3a3c5e.mp4 (ID: 40f07001-a193-4fc5-93b9-8d3f9b3a3c5e)
[2025-12-08 04:12:44] [INFO] [api_server:114] â€” Video uploaded: Helsinki_short.mp4 -> f25fe61e-90a3-4b39-b830-c74b120c76f0.mp4 (ID: f25fe61e-90a3-4b39-b830-c74b120c76f0)
[2025-12-08 04:12:44] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 04:12:44] [INFO] [api_server:116] â€” Video uploaded: Helsinki_short.mp4 -> f25fe61e-90a3-4b39-b830-c74b120c76f0.mp4 (ID: f25fe61e-90a3-4b39-b830-c74b120c76f0)
[2025-12-08 04:12:49] [INFO] [api_server:114] â€” Video uploaded: Grand_Theft_Auto_VI_Trailer_1.mp4 -> baa4ba03-a3b9-4055-92f2-45648e32a5b2.mp4 (ID: baa4ba03-a3b9-4055-92f2-45648e32a5b2)
[2025-12-08 04:12:49] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 04:12:49] [INFO] [api_server:116] â€” Video uploaded: Grand_Theft_Auto_VI_Trailer_1.mp4 -> baa4ba03-a3b9-4055-92f2-45648e32a5b2.mp4 (ID: baa4ba03-a3b9-4055-92f2-45648e32a5b2)
[2025-12-08 05:19:28] [INFO] [api_server:162] â€” Analysis started for 40f07001-a193-4fc5-93b9-8d3f9b3a3c5e with pipeline: full
[2025-12-08 05:19:28] [INFO] [api_server:178] â€” ðŸš€ Starting full analysis pipeline for 40f07001-a193-4fc5-93b9-8d3f9b3a3c5e
[2025-12-08 05:19:28] [INFO] [api_server:179] â€” ðŸ“ Video path: uploads\40f07001-a193-4fc5-93b9-8d3f9b3a3c5e.mp4
[2025-12-08 05:19:28] [INFO] [api_server:187] â€” âœ… Video file exists
[2025-12-08 05:19:28] [INFO] [api_server:199] â€” ðŸŽ¥ Starting visual analysis pipeline...
[2025-12-08 05:19:31] [INFO] [src.backend.analysis.pipeline_video_frames:60] â€” Starting frame analysis on uploads\40f07001-a193-4fc5-93b9-8d3f9b3a3c5e.mp4
[2025-12-08 05:19:59] [ERROR] [api_server:229] â€” âŒ Visual pipeline failed: module 'PIL.Image' has no attribute 'ANTIALIAS'
[2025-12-08 05:19:59] [ERROR] [api_server:231] â€” ðŸ“ Traceback: Traceback (most recent call last):
  File "e:\wenjian\123\3rd\The-project\api_server.py", line 205, in run_complete_analysis
    visual_results = frame_pipeline.analyze(
                     ^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_video_frames.py", line 110, in analyze
    ocr_results = self.run_ocr(frame, timestamp)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_video_frames.py", line 147, in run_ocr
    results = self.ocr.readtext(frame_rgb)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\easyocr.py", line 464, in readtext
    result = self.recognize(img_cv_grey, horizontal_list, free_list,\
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\easyocr.py", line 391, in recognize
    image_list, max_width = get_image_list(h_list, f_list, img_cv_grey, model_height = imgH)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\utils.py", line 593, in get_image_list
    crop_img,ratio = compute_ratio_and_resize(transformed_img,transformed_img.shape[1],transformed_img.shape[0],model_height)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\easyocr\utils.py", line 576, in compute_ratio_and_resize
    img = cv2.resize(img,(int(model_height*ratio),model_height),interpolation=Image.ANTIALIAS)
                                                                              ^^^^^^^^^^^^^^^
AttributeError: module 'PIL.Image' has no attribute 'ANTIALIAS'

[2025-12-08 05:19:59] [INFO] [api_server:237] â€” ðŸŽµ Starting audio pipeline...
[2025-12-08 05:19:59] [INFO] [api_server:240] â€” ðŸ”Š Extracting audio from video...
[2025-12-08 05:19:59] [INFO] [src.backend.analysis.pipeline_ingestion:129] â€” Starting ingestion pipeline for: uploads\40f07001-a193-4fc5-93b9-8d3f9b3a3c5e.mp4
[2025-12-08 05:19:59] [ERROR] [api_server:305] â€” âŒ Audio pipeline failed: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚
[2025-12-08 05:19:59] [ERROR] [api_server:307] â€” ðŸ“ Traceback: Traceback (most recent call last):
  File "e:\wenjian\123\3rd\The-project\api_server.py", line 241, in run_complete_analysis
    ingestion_result = run_ingestion_pipeline(video_path)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 131, in run_ingestion_pipeline
    metadata = validate_video(video_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 45, in validate_video
    probe = ffmpeg.probe(video_path)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\ffmpeg\_probe.py", line 20, in probe
    p = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1026, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1538, in _execute_child
    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚

[2025-12-08 05:19:59] [INFO] [api_server:320] â€” ðŸŽ‰ Analysis marked as COMPLETED for 40f07001-a193-4fc5-93b9-8d3f9b3a3c5e
[2025-12-08 05:19:59] [INFO] [api_server:321] â€” ðŸ“Š Results keys: ['visual_error', 'audio_error']
[2025-12-08 05:19:59] [INFO] [api_server:322] â€” ðŸ“ Output files: {}
[2025-12-08 05:21:05] [INFO] [api_server:162] â€” Analysis started for f25fe61e-90a3-4b39-b830-c74b120c76f0 with pipeline: full
[2025-12-08 05:21:05] [INFO] [api_server:178] â€” ðŸš€ Starting full analysis pipeline for f25fe61e-90a3-4b39-b830-c74b120c76f0
[2025-12-08 05:21:05] [INFO] [api_server:179] â€” ðŸ“ Video path: uploads\f25fe61e-90a3-4b39-b830-c74b120c76f0.mp4
[2025-12-08 05:21:05] [INFO] [api_server:187] â€” âœ… Video file exists
[2025-12-08 05:21:05] [INFO] [api_server:199] â€” ðŸŽ¥ Starting visual analysis pipeline...
[2025-12-08 05:21:08] [INFO] [src.backend.analysis.pipeline_video_frames:60] â€” Starting frame analysis on uploads\f25fe61e-90a3-4b39-b830-c74b120c76f0.mp4
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_video_frames:81] â€” End of video reached.
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_video_frames:191] â€” Saved organized results:
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_video_frames:192] â€”  - Video: outputs\frames\videos\f25fe61e-90a3-4b39-b830-c74b120c76f0_annotated.mp4
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_video_frames:193] â€”  - YOLO CSV: outputs\frames\csv\f25fe61e-90a3-4b39-b830-c74b120c76f0_yolo_20251208_032115.csv
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_video_frames:194] â€”  - OCR CSV: outputs\frames\csv\f25fe61e-90a3-4b39-b830-c74b120c76f0_ocr_20251208_032115.csv
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_video_frames:195] â€”  - Summary: outputs\frames\json\f25fe61e-90a3-4b39-b830-c74b120c76f0_summary.json
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_video_frames:131] â€” Frame analysis complete.
[2025-12-08 05:21:15] [INFO] [api_server:226] â€” âœ… Visual analysis completed: 372 detections
[2025-12-08 05:21:15] [INFO] [api_server:237] â€” ðŸŽµ Starting audio pipeline...
[2025-12-08 05:21:15] [INFO] [api_server:240] â€” ðŸ”Š Extracting audio from video...
[2025-12-08 05:21:15] [INFO] [src.backend.analysis.pipeline_ingestion:129] â€” Starting ingestion pipeline for: uploads\f25fe61e-90a3-4b39-b830-c74b120c76f0.mp4
[2025-12-08 05:21:15] [ERROR] [api_server:305] â€” âŒ Audio pipeline failed: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚
[2025-12-08 05:21:15] [ERROR] [api_server:307] â€” ðŸ“ Traceback: Traceback (most recent call last):
  File "e:\wenjian\123\3rd\The-project\api_server.py", line 241, in run_complete_analysis
    ingestion_result = run_ingestion_pipeline(video_path)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 131, in run_ingestion_pipeline
    metadata = validate_video(video_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 45, in validate_video
    probe = ffmpeg.probe(video_path)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\ffmpeg\_probe.py", line 20, in probe
    p = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1026, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1538, in _execute_child
    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚

[2025-12-08 05:21:15] [INFO] [api_server:320] â€” ðŸŽ‰ Analysis marked as COMPLETED for f25fe61e-90a3-4b39-b830-c74b120c76f0
[2025-12-08 05:21:15] [INFO] [api_server:321] â€” ðŸ“Š Results keys: ['visual_analysis', 'audio_error']
[2025-12-08 05:21:15] [INFO] [api_server:322] â€” ðŸ“ Output files: {'video': 'outputs\\frames\\videos\\f25fe61e-90a3-4b39-b830-c74b120c76f0_annotated.mp4', 'yolo_csv': 'outputs\\frames\\csv\\f25fe61e-90a3-4b39-b830-c74b120c76f0_yolo_20251208_032115.csv', 'ocr_csv': 'outputs\\frames\\csv\\f25fe61e-90a3-4b39-b830-c74b120c76f0_ocr_20251208_032115.csv', 'summary_json': 'outputs\\frames\\json\\f25fe61e-90a3-4b39-b830-c74b120c76f0_summary.json'}
[2025-12-08 05:53:40] [INFO] [__main__:537] â€” Starting Video Analysis API with Audio on http://localhost:8000
[2025-12-08 05:53:40] [INFO] [__main__:538] â€” API Documentation: http://localhost:8000/docs
[2025-12-08 05:54:09] [INFO] [api_server:114] â€” Video uploaded: Grand_Theft_Auto_VI_Trailer_1.mp4 -> 208ad7ce-6f56-45b4-b389-63baa9714c31.mp4 (ID: 208ad7ce-6f56-45b4-b389-63baa9714c31)
[2025-12-08 05:54:09] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 05:54:09] [INFO] [api_server:116] â€” Video uploaded: Grand_Theft_Auto_VI_Trailer_1.mp4 -> 208ad7ce-6f56-45b4-b389-63baa9714c31.mp4 (ID: 208ad7ce-6f56-45b4-b389-63baa9714c31)
[2025-12-08 05:54:13] [INFO] [api_server:114] â€” Video uploaded: Helsinki_main_street.mp4 -> 99330f2d-773f-4883-86a2-f0d2c60ee2c8.mp4 (ID: 99330f2d-773f-4883-86a2-f0d2c60ee2c8)
[2025-12-08 05:54:13] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 05:54:13] [INFO] [api_server:116] â€” Video uploaded: Helsinki_main_street.mp4 -> 99330f2d-773f-4883-86a2-f0d2c60ee2c8.mp4 (ID: 99330f2d-773f-4883-86a2-f0d2c60ee2c8)
[2025-12-08 05:54:17] [INFO] [api_server:114] â€” Video uploaded: Helsinki_short.mp4 -> b12eb063-ae92-4e69-9038-a7f31c5c20d9.mp4 (ID: b12eb063-ae92-4e69-9038-a7f31c5c20d9)
[2025-12-08 05:54:17] [INFO] [api_server:115] â€” Video uploaded: 1)
[2025-12-08 05:54:17] [INFO] [api_server:116] â€” Video uploaded: Helsinki_short.mp4 -> b12eb063-ae92-4e69-9038-a7f31c5c20d9.mp4 (ID: b12eb063-ae92-4e69-9038-a7f31c5c20d9)
