[2025-12-02 16:07:11] [INFO] [__main__:531] â€” Starting Video Analysis API with Audio on http://localhost:8000
[2025-12-02 16:07:11] [INFO] [__main__:532] â€” API Documentation: http://localhost:8000/docs
[2025-12-02 16:08:35] [INFO] [__main__:531] â€” Starting Video Analysis API with Audio on http://localhost:8000
[2025-12-02 16:08:35] [INFO] [__main__:532] â€” API Documentation: http://localhost:8000/docs
[2025-12-02 16:10:16] [INFO] [api_server:111] â€” Video uploaded: Helsinki_short.mp4 -> c30fc713-b956-4e8f-b5d7-c9cad3818b89.mp4 (ID: c30fc713-b956-4e8f-b5d7-c9cad3818b89)
[2025-12-02 16:10:27] [INFO] [api_server:157] â€” Analysis started for c30fc713-b956-4e8f-b5d7-c9cad3818b89 with pipeline: full
[2025-12-02 16:10:27] [INFO] [api_server:173] â€” ğŸš€ Starting full analysis pipeline for c30fc713-b956-4e8f-b5d7-c9cad3818b89
[2025-12-02 16:10:27] [INFO] [api_server:174] â€” ğŸ“ Video path: uploads\c30fc713-b956-4e8f-b5d7-c9cad3818b89.mp4
[2025-12-02 16:10:27] [INFO] [api_server:182] â€” âœ… Video file exists
[2025-12-02 16:10:27] [INFO] [api_server:194] â€” ğŸ¥ Starting visual analysis pipeline...
[2025-12-02 16:10:31] [INFO] [src.backend.analysis.pipeline_video_frames:60] â€” Starting frame analysis on uploads\c30fc713-b956-4e8f-b5d7-c9cad3818b89.mp4
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_video_frames:81] â€” End of video reached.
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_video_frames:191] â€” Saved organized results:
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_video_frames:192] â€”  - Video: outputs\frames\videos\c30fc713-b956-4e8f-b5d7-c9cad3818b89_annotated.mp4
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_video_frames:193] â€”  - YOLO CSV: outputs\frames\csv\c30fc713-b956-4e8f-b5d7-c9cad3818b89_yolo_20251202_141033.csv
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_video_frames:194] â€”  - OCR CSV: outputs\frames\csv\c30fc713-b956-4e8f-b5d7-c9cad3818b89_ocr_20251202_141033.csv
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_video_frames:195] â€”  - Summary: outputs\frames\json\c30fc713-b956-4e8f-b5d7-c9cad3818b89_summary.json
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_video_frames:131] â€” Frame analysis complete.
[2025-12-02 16:10:33] [INFO] [api_server:221] â€” âœ… Visual analysis completed: 372 detections
[2025-12-02 16:10:33] [INFO] [api_server:232] â€” ğŸµ Starting audio pipeline...
[2025-12-02 16:10:33] [INFO] [api_server:235] â€” ğŸ”Š Extracting audio from video...
[2025-12-02 16:10:33] [INFO] [src.backend.analysis.pipeline_ingestion:129] â€” Starting ingestion pipeline for: uploads\c30fc713-b956-4e8f-b5d7-c9cad3818b89.mp4
[2025-12-02 16:10:33] [ERROR] [api_server:300] â€” âŒ Audio pipeline failed: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚
[2025-12-02 16:10:33] [ERROR] [api_server:302] â€” ğŸ“ Traceback: Traceback (most recent call last):
  File "e:\wenjian\123\3rd\The-project\api_server.py", line 236, in run_complete_analysis
    ingestion_result = run_ingestion_pipeline(video_path)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 131, in run_ingestion_pipeline
    metadata = validate_video(video_path)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "e:\wenjian\123\3rd\The-project\src\backend\analysis\pipeline_ingestion.py", line 45, in validate_video
    probe = ffmpeg.probe(video_path)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\wenjian\123\3rd\The-project\.venv\Lib\site-packages\ffmpeg\_probe.py", line 20, in probe
    p = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1026, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "C:\Users\Calorie\AppData\Local\Programs\Python\Python311\Lib\subprocess.py", line 1538, in _execute_child
    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [WinError 2] ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶ã€‚

[2025-12-02 16:10:33] [INFO] [api_server:315] â€” ğŸ‰ Analysis marked as COMPLETED for c30fc713-b956-4e8f-b5d7-c9cad3818b89
[2025-12-02 16:10:33] [INFO] [api_server:316] â€” ğŸ“Š Results keys: ['visual_analysis', 'audio_error']
[2025-12-02 16:10:33] [INFO] [api_server:317] â€” ğŸ“ Output files: {'video': 'outputs\\frames\\videos\\c30fc713-b956-4e8f-b5d7-c9cad3818b89_annotated.mp4', 'yolo_csv': 'outputs\\frames\\csv\\c30fc713-b956-4e8f-b5d7-c9cad3818b89_yolo_20251202_141033.csv', 'ocr_csv': 'outputs\\frames\\csv\\c30fc713-b956-4e8f-b5d7-c9cad3818b89_ocr_20251202_141033.csv', 'summary_json': 'outputs\\frames\\json\\c30fc713-b956-4e8f-b5d7-c9cad3818b89_summary.json'}
[2025-12-02 16:15:52] [INFO] [__main__:78] â€” Starting analysis for: Helsinki_short.mp4
[2025-12-02 16:15:53] [INFO] [__main__:95] â€” Running analysis pipeline...
[2025-12-02 16:15:53] [INFO] [src.backend.analysis.pipeline_video_frames:60] â€” Starting frame analysis on samples\Helsinki_short.mp4
[2025-12-02 16:15:58] [INFO] [src.backend.analysis.pipeline_video_frames:81] â€” End of video reached.
[2025-12-02 16:15:58] [INFO] [src.backend.analysis.pipeline_video_frames:191] â€” Saved organized results:
[2025-12-02 16:15:58] [INFO] [src.backend.analysis.pipeline_video_frames:192] â€”  - Video: outputs\frames\videos\Helsinki_short_annotated.mp4
[2025-12-02 16:15:58] [INFO] [src.backend.analysis.pipeline_video_frames:193] â€”  - YOLO CSV: outputs\frames\csv\Helsinki_short_yolo_20251202_141558.csv
[2025-12-02 16:15:58] [INFO] [src.backend.analysis.pipeline_video_frames:194] â€”  - OCR CSV: outputs\frames\csv\Helsinki_short_ocr_20251202_141558.csv
[2025-12-02 16:15:58] [INFO] [src.backend.analysis.pipeline_video_frames:195] â€”  - Summary: outputs\frames\json\Helsinki_short_summary.json
[2025-12-02 16:15:58] [INFO] [src.backend.analysis.pipeline_video_frames:131] â€” Frame analysis complete.
[2025-12-02 16:15:58] [INFO] [__main__:98] â€” âœ… Analysis complete!
[2025-12-02 16:15:58] [INFO] [__main__:99] â€” Annotated video: outputs\frames\videos\Helsinki_short_annotated.mp4
[2025-12-02 16:15:58] [INFO] [__main__:100] â€” YOLO detections: 372
[2025-12-02 16:15:58] [INFO] [__main__:101] â€” OCR detections: 0
